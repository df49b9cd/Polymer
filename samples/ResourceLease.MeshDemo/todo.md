# Cadence-Style Docker Alignment

- [ ] Mirror Cadence’s `docker/` tree: create `samples/ResourceLease.MeshDemo/docker/{config,grafana,monitoring,prometheus,scripts}`; move `docker-compose.yml`, `prometheus.yml`, and Grafana provisioning/dashboards into those folders; add a local `README.md` explaining each subfolder just like `cadence/docker/README.md`.
- [ ] Split compose definitions: keep a base `docker/docker-compose.yml` that launches dispatcher + diagnostics + observability, then add overlay files (`docker-compose-workers.yml`, `docker-compose-seeder.yml`) that can be layered via `docker compose -f ...`; replace inline env blocks with Cadence-style `.env`/`config_template.yaml` files and wire in health checks + `depends_on` conditions.
- [ ] Deliver a multi-cluster scenario (`docker-compose-multicluster.yml`) with `mesh-cluster-a`/`mesh-cluster-b` dispatchers, dedicated volumes, and a bootstrap container that pre-seeds any required SQLite/db state, mirroring Cadence’s `cadence-schema-setup` job.
- [ ] Reorganize observability: move Grafana provisioning into `docker/grafana/provisioning/{dashboards,datasources}`, add distinct dashboards per role (dispatcher, workers, seeders, queue overview) modeled after `cadence/docker/grafana/provisioning/dashboards/*.json`, and expand Prometheus configs (`docker/prometheus/prometheus.yml`) to define one scrape job per service/cluster with consistent labels.
- [ ] Expand configuration profiles: introduce `appsettings.Docker.Dispatcher.json`, `.Seeder`, `.Worker`, etc., plus `.env` files under `docker/config` so compose services only toggle the profile name; update `Program.cs` to honor these profiles and document overrides in `samples/ResourceLease.MeshDemo/README.md`.
- [ ] Ship helper tooling: add scripts like `docker/scripts/start.sh`, `start-multicluster.sh`, `stop.sh`, and `status.sh` that replicate Cadence’s workflow; update both the sample README and the new docker README with quick-start tables, port maps, and troubleshooting tips.
